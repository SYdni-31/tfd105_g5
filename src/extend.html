<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <!-- slider (swiper) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/css/swiper.min.css" integrity="sha512-nSomje7hTV0g6A5X/lEZq8koYb5XZtrWD7GU2+aIJD35CePx89oxSM+S7k3hqNSpHajFbtmrjavZFxSEfl6pQA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- css -->
  <link rel="stylesheet" href="./css/style.min.css" />
  <!-- font awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"
    integrity="sha384-3B6NwesSXE7YJlcLI9RpRqGf2p/EgVH8BgoKTaUrmKNDkHPStTQ3EyoYjCGXaOTS" crossorigin="anonymous" />
  <!-- title icon -->
  <link rel="icon" href="img/tianlam-logo-mainblack.svg">
  <!-- VUE -->
  <script src="js/vue.min.js"></script>
  <!-- EmailJS -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2.3.2/dist/email.min.js"></script>
  <script type="text/javascript">
      (function () {
          emailjs.init("VmKwawpbImHtur7aa");
      })();
  </script>
  <!-- is.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/is_js/0.9.0/is.min.js"></script>
  <!-- SweetAlert -->
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <title>聚策展-虛擬商展</title>
</head>

<body>
  <!-- header -->
  <nav>
    @@include('layout/nav.html')
  </nav>

  <header>
    @@include('layout/login.html')
  </header>
  <!-- content，各自頁面的html寫在這邊 -->
  
  <main id='app' class="extend_main">
    <section class="swiper-container gallery-thumbs extend_head wrapper">
      <div class= "swiper-wrapper">
        <div class="swiper-slide" v-for="room in rooms">
          <img :src="room.LOGO" />
        </div>
      </div>
    </section>
    <!-- 攤位圖&內容&各自聊天室 -->
    <section class="swiper-container gallery-top wrapper mt-30 swiper-no-swiping">
      <section class="swiper-wrapper extend_body">
        <div class="swiper-slide"  v-for="(room, index) in rooms">
          <section class="extend_look">
            <article :class="['extend_booth' + room.TYPE]">
              <img :src="['img/extend/booth' + room.TYPE + '.png']" alt="">
              <div class="extend_banner">
                <img :src="room.LOGO" alt="">
                <h3 class="bg-color ml-5">{{room.NAME}}</h3>
              </div>
              <iframe class="video" type="text/html" :src="['https://www.youtube.com/embed/' + room['VIDEO'].split('=')[1] + '?autoplay=0&mute=1']" frameborder="0" allowfullscreen></iframe>
            </article>
            <a @click.prevent="chat" href="#" class="extend_chat_btn">
              <div :class="['extend_robotch' + room.ROBOT]">
                <img class="extend_robotwave" :src="['img/extend/robotwave' + room.ROBOT + '.gif']" alt="">
                <img class="extend_robot" :src="['img/extend/robot' + room.ROBOT + '.png']" alt="">
              </div>
              <i class="fa-solid fa-comment-dots extend_chat"></i>
            </a>
            <!-- chatbox彈窗 -->
            <article class="extend_chatbox -border_maincolor -hide">
              <div class="chat_title mall-10 pall-10">
                <h3><i class="fa-solid fa-address-card main-color"></i>
                  {{room.NAME}}</h3>
                <span @click="chatoff" class="chatbox_close"><i class="fa-regular fa-circle-xmark main-color"></i></span>
              </div>
              <div class="chated pall-5">
                <p v-for="talk in room.board" class="chat_content  pall-5 mall-10 mt-30 ml-30" :class="talk.C_MSG==null?'chat_content_me':'chat_content_you'">{{talk.G_MSG||talk.C_MSG}}<span>{{talktime(talk.MSGTIME)}}</span></p>
              </div>
              <div class="chat_input">
                <input  type="text" v-model.trim="chatword" @keyup.enter="subchat(room.ID,$event)" placeholder="請輸入訊息內容...">
                <button @click="subchat(room.ID,$event)" class="btn-short"><i class="fa-solid fa-paper-plane"></i></button>
              </div>
            </article>
          </section>
          <!-- 下方內容 -->
          <section class="extend_content wrapper -border_maincolor pall-20">
            <h3 @click="little('about')" class="pb-20 content_point" :class="{'content_pointed':little_page=='about'}">關於我們</h3>
            <h3 @click="little('tech')" class="pb-20 content_point" :class="{'content_pointed':little_page=='tech'}">技術展示</h3>
            <h3 @click="little('live')" class="pb-20 content_point" :class="{'content_pointed':little_page=='live'}">展覽影片</h3>
            <article class="content_inner content_about" :class="{'-hide':little_page !='about'}">
              <h4 class="mall-10">{{room.INTRODUCE}}</h4>
            </article>
            <article v-if="room.tech.length>0" class="content_inner content_tech" :class="{'-hide':little_page !='tech'}">
              <div class="-margin0auto pt-30" v-for="item in room.tech">
                <h4 class="mr-10">{{item.NAME}}</h4>
                <div>
                  <a @click.prevent="techconract(item.NAME, $event)" href="#" class="btn-short mall-10">CONTACT</a>
                  <a :href="item.LINK" class="btn-short mall-10" target="_blank">VIEW</a>  
                </div>
              </div>
            </article>
            <article v-else class="content_inner content_tech" :class="{'-hide':little_page !='tech'}">
              <p>---尚未有技術上傳---</p>
            </article>
            <article v-if="inlive(index)" class="content_inner content_video"  :class="{'-hide':little_page !='live'}">
              <iframe class="video -margin0auto" type="text/html" :src="['https://www.youtube.com/embed/' + inlive(index).split('=')[1] + '?autoplay=0&mute=1']" frameborder="0" allowfullscreen></iframe>
              <a class="pt-20" href="./live.html"><button class="btn-short -margin0auto">前往觀看</button></a>
            </article>
            <article v-else class="content_inner content_video"  :class="{'-hide':little_page !='live'}">
              <p>---現在尚未直播---</p>
            </article>
          </section>
        </div>
      </section>
        <!-- <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div> -->
    </section>
  </main>
  <!-- footer -->
  <footer>
    @@include('layout/footer.html')
  </footer>

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- slider (swiper) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/js/swiper.min.js" integrity="sha512-ZHauUc/vByS6JUz/Hl1o8s2kd4QJVLAbkz8clgjtbKUJT+AG1c735aMtVLJftKQYo+LD62QryvoNa+uqy+rCHQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="js/main.min.js"></script>
  <script src="js/login.min.js"></script>
  <script src="js/extend.min.js"></script>
</body>

</html>