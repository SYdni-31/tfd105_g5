<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <!-- css -->
    <link rel="stylesheet" href="./css/style.min.css" />
    <!-- font awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"
        integrity="sha384-3B6NwesSXE7YJlcLI9RpRqGf2p/EgVH8BgoKTaUrmKNDkHPStTQ3EyoYjCGXaOTS" crossorigin="anonymous" />
    <!-- title icon -->
    <link rel="icon" href="img/tianlam-logo-mainblack.svg">
    <!-- VUE -->
    <script src="js/vue.min.js"></script>
    <!-- alert套件 -->
    <script src="https://unpkg.com/vue-swal"></script>
    
    <title>聚策展-廠商後台-技術展示區</title>
</head>

<body>
    <!-- header -->
    <nav>
        @@include('layout/nav.html')
    </nav>

    <header>
        @@include('layout/login.html')
    </header>
    <!-- content，各自頁面的html寫在這邊以下都是範例 大區塊外面包section  -->
    <main>
        <section class="wrapper company_wrapper" id="tech_app" >
            <!-- 上方標題 -->
            <div class="company_title">
                <a class="title_skill">技術展示區</a>
            </div>

            <div v-for="(tech, index) in techs">
                <form action="#" class="companyback_form">
                    <!-- icon -->
                    <aside class="companyback_layout"></aside>
                    <ol class="companyback_icon">
                        <li @click="open(index)"><a ><i class="fa-regular fa-pen-to-square"></i></a></li>
                        <li @click="del(tech.ID, tech.STATUS)"><a><i class="fa-regular fa-trash-can"></i></a></li>
                    </ol>
                    <div class="field pt-45">
                        <h2>技術名稱 :</h2>
                        <input type="text" :id="['skill_name' + index]" required autocomplete="off" v-model="tech.NAME" disabled>
                        <label :for="['skill_name' + index]" title="" data-title="Skill name"></label>
                    </div>
                    <div class="field pt-45">
                        <h2>技術網址 :</h2>
                        <input type="text" :id="['password_add' + index]" required autocomplete="off" v-model="tech.LINK" disabled>
                        <label :for="['password_add' + index]" title="" data-title="Skill address"></label>
                    </div>
                    <a class="companyback_save btn_company_back" @click="update(tech.ID, tech.NAME, tech.LINK)">儲存</a>
                </form>
            </div>

            <div class="insert_form" :class="{'-hide':newforms==false}">
                <form action="#" class="companyback_form">
                    <!-- icon -->
                    <aside class="companyback_layout" ></aside>
                    <ol class="companyback_icon">
                        <li><a><i class="fa-regular fa-pen-to-square"></i></a></li>
                        <li> <a><i class="fa-regular fa-trash-can"></i></a></li>
                    </ol>
                    <div class="field pt-45">
                        <h2>技術名稱 :</h2>
                        <input type="text" :id="['skill_name' + techs.length]" required autocomplete="off" v-model="newtech">
                        <label :for="['skill_name' + techs.length]" title="技術名稱" data-title="Skill name" ></label>
                    </div>
                    <div class="field pt-45">
                        <h2>技術網址 :</h2>
                        <input type="text" :id="['password_add' + techs.length]" required autocomplete="off" v-model="newlink">
                        <label :for="['password_add' + techs.length]" title="技術網址" data-title="Skill address" ></label>
                    </div>
                    <a class="companyback_save btn_company_back" @click="insert">儲存</a>
                </form>
            </div>

            <div class="companyback_add mt-30" >
                <a class="btn_company_back tech_addbtn" href="./companyback_info.html">回上一頁</a>
            
                <a class="btn_company_back tech_addbtn" @click="showInsert">新增</a>
 
                <a class="btn_company_back tech_addbtn" href="./companyback_look.html">儲存並預覽</a>
            </div>
        </section>
    </main>
    <!-- footer -->
    <footer>
        @@include('layout/footer.html')
    </footer>

    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- 先連結main再連結各自設的js -->
    <script src="js/main.min.js"></script>
    <script src="js/login.min.js"></script>
    <script src="js/companyback_tech.min.js"></script>
</body>

</html>