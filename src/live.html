<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <!-- css -->
  <link rel="stylesheet" href="./css/style.min.css" />
  <!-- font awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"
    integrity="sha384-3B6NwesSXE7YJlcLI9RpRqGf2p/EgVH8BgoKTaUrmKNDkHPStTQ3EyoYjCGXaOTS" crossorigin="anonymous" />
  <!-- title icon -->
  <link rel="icon" href="img/tianlam-logo-mainblack.svg" />
  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- VUE -->
  <script src="js/vue.min.js"></script>
  <!-- EmailJS -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2.3.2/dist/email.min.js"></script>
  <script async src="//www.youtube.com/iframe_api"></script>
  <script type="text/javascript">
    (function () {
      emailjs.init("VmKwawpbImHtur7aa");
    })();
  </script>
  <!-- alert套件 -->
  <script src="https://unpkg.com/vue-swal"></script>
  <title>聚策展-現正直播</title>
</head>

<body>
  <!-- header -->
  <nav>@@include('layout/nav.html')</nav>

  <header>
    @@include('layout/login.html')
  </header>
  <!-- content，各自頁面的html寫在這邊以下都是範例 -->
  <main id="live_container">
    <section>
      <div class="live-container">
        <!-- 影片區 -->
        <!-- https://www.youtube.com/embed/gfwWsWJhoig?modestbranding=1&autoplay=1&playlist=gfwWsWJhoig -->
        <!-- src="https://www.youtube.com/embed/at6SJkmogvQ?modestbranding=1&autoplay=1&playlist=at6SJkmogvQ" -->
        <div class="live-video-container">
          <h2 v-if="C_NAME == ''">
            抱歉，目前無直播<br />下一次直播時間 : <br />
            <span>{{NEXT_TIME}}</span>
          </h2>
          <!-- <iframe v-if="C_NAME != ''" width="900" height="500"
            :src="['https://www.youtube.com/embed/' + LINK.split('=')[1] + '?&autoplay=1&loop=1&modestbranding=1&playlist='+ LINK.split('=')[1] ]"
            title="video" frameborder="0" class="live-video"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen>
          </iframe> -->
          <div id="YouTubeVideoPlayerAPI" class="live-video" ></div>
        </div>
        <!-- 留言板(PC) -->
        <div id="live_pc" class="live-board-container" :class="{'pc-active': pcOpen === true}" v-if="C_NAME != ''">
          <div class="live-board">
            <div class="search-container-title" @click="toggle()">
              <img src="img/live/live-arrow.svg" alt="留言板開關" id="live-icon-img"
                :class="{'-transform-180': pcOpen === true}" />
              <h3 id="search-container-title-h3">留言板</h3>
            </div>
            <!-- 留言顯示區 -->
            <div class="result-block" v-if="login_id != '' && C_NAME != ''">
              <div class="search-container">
                <todo-item v-for="(task,index) in tasks" :name="tasks[index]['name']"
                  :message="tasks[index]['message']"></todo-item>
              </div>
            </div>
            <!-- 打字傳送區 -->
            <div class="input-block" v-if="login_id != '' && C_NAME != ''">
              <input v-model="task" class="live-text-input" name="live-text-input" id="live_text" placeholder="傳送訊息" @keyup.enter="text_save">
              <button class=" live-submit btn-short" name="live-submit" type="button" @click="text_save">送交</button>
            </div>
            <!-- 尚未登入 -->
            <div class="live-login-block" v-if="login_id == '' && C_NAME != ''">
              <button class="btn-short" @click="live_login">開始聊天</button>
            </div>
          </div>
        </div>

        <!-- 留言板(RWD) -->
        <div id="live_rwd" class="live-board-container-rwd" :class="{'rwd-active': rwdOpen === true}"
          v-if="C_NAME != ''">
          <div class="live-board">
            <div class="search-container-title" @click="toggle_rwd()">
              <img src="img/live/live-arrow.svg" alt="留言板開關" id="live-icon-img-rwd" class="-transform--90"
                :class="{'-transform-90': rwdOpen === true}" />
              <h3 id="search-container-title-h3">留言板</h3>
            </div>
            <!-- 留言顯示區 -->
            <div class="result-block-rwd" v-if="login_id != '' && C_NAME != ''">
              <div class="search-container">
                <todo-item v-for="(task,index) in tasks" :name="tasks[index]['name']"
                  :message="tasks[index]['message']"></todo-item>
              </div>
            </div>
            <!-- 打字傳送區 -->
            <div class="input-block" v-if="login_id != '' && C_NAME != ''">
              <input v-model="task" class="live-text-input-rwd" name="live-text-input" id="live_text_rwd"
                placeholder="傳送訊息" @keyup.enter="text_save_rwd">
              <button class="live-submit-rwd btn-short" name="live-submit" type="button"
                @click="text_save_rwd">送交</button>
            </div>
            <!-- 尚未登入 -->
            <div class="live-login-block-rwd" v-if="login_id == '' && C_NAME != ''">
              <button class="btn-long" @click="live_login">開始聊天</button>
            </div>
          </div>

        </div>
    </section>
    <!-- 下方廠商介紹區 -->
    <div v-if="C_NAME != ''">
      <div class="live-company">
        <ul class="live-company-text">
          <li v-if="C_NAME != '' ">
            <div class="live-company-title">
              <img src="img/live/compnay-title.png" alt="現正直播廠商" />
              <h2 v-if="C_EMAIL != null ">現正直播廠商</h2>
              <h2 v-if="C_EMAIL == null ">現正直播講師</h2>
            </div>
            <h3>{{C_NAME}}</h3>
          </li>
          <li v-if="C_EMAIL != null ">
            <div class="live-company-email">
              <img src="img/live/compnay-email.png" alt="聯絡方式" />
              <h2>聯絡方式</h2>
            </div>
            <h3>email: {{C_EMAIL}}</h3>
          </li>
        </ul>
        <img v-if="C_NAME != ''" src="img/live/live_circle_2.svg" alt="圓形圖案" class="img-circle">
      </div>
    </div>
  </main>
  <!-- footer -->
  <footer>@@include('layout/footer.html')</footer>
  <script>

  </script>
  <!-- 先連結main再連結各自設的js -->
  <script src="js/main.min.js"></script>
  <script src="js/login.min.js"></script>
  <script src="js/live.min.js"></script>

</body>

</html>